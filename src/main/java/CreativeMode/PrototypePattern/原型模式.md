# 原型模式
## 背景
写工作日报时，需要新建一篇全新的文档，然后填入每周对应的信息。在每篇文档中存在大量重复的内容（如个人信息、搞形式的感想等），对于这些需要新建并输入重复信息的场景，出现了一种思路：设置一个模板，模板中记录了无需改动的信息，在需要使用时复制该模板即可。原型模式实现了这种思路。

## 概念
- 浅克隆：原型对象和克隆对象的成员变量指向相同的内存地址
- 深克隆：原型对象和克隆对象的成员变量指向不同的内存地址

## 实现
- v1：通用方法，可以使用Java中Object的clone实现（需要实现Cloneable接口）
- v2：深克隆和浅克隆
- v3：原型管理器的引入

## 总结
1. 优点
    - 当创建一个对象实例较为复杂时，原型模式可以简化对象的创建过程
    - 提供了抽象原型类（v3），方便扩展（可设置配置文件，原型管理器读取配置文件）
    - 原型模式可以保存对象的状态，适用于需要复制的场景
2. 缺点
   - 需要为每一个类提供clone方法，当对已有的类进行修改时，需要修改clone源代码，违反**开闭原则**
   - 实现深克隆时，多个对象之间如果存在嵌套关系，为了保证深克隆，每层都需要支持深克隆，实现麻烦
3. 适用场景
   - 创建新对象成本大
   - 需要保留对象状态，且对象的状态变化小，或者对象本身占用内存少