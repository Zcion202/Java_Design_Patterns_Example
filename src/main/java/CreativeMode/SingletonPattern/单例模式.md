# 单例模式
## 定义
确保一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，它提供全局访问的方法，单例模式是一种对象创建性模式
### 三个要点
1. 某个类只能由一个实例
2. 该类必须自行创建这个实例
3. 该类必须向整个系统提供这个实例

## 一些概念
为方便理解，将需要设定为单一实例的变量称为a
1. 饿汉式单例：定义a的同时创建a
2. 懒汉式单例：定义a时为null，提供静态公有成员方法进行实例化

## 例子说明
1. v1是单例模式的简单例子
2. v2设计了一个负载均衡器作为单例对象，但该版本存在多线程判断成立的问题
3. v3介绍了懒汉式单例和饿汉式单例
4. v4通过静态内部类实现的单例模式解决了v2、v3出现的问题

## 总结
1. 优点
    - 提供了对唯一实例的控制和访问
    - 确保单例实例只存在一个对象，节约系统资源
    - 可通过对单例模式扩展，实现生成可控数量的实例
2. 缺点
    - 单例类中没有抽象层，不利于扩展
    - 单例类职责过重，既负责生产也负责操作，一定程度上违背**单一职责原则**
    - 对于Java或C#这些自带自动垃圾回收技术的语言来说，作为单例的实例化共享对象如果长时间不被使用，会被误认为垃圾而被回收，等到需要使用该单例时需要重新实例化，这会丢失原有单例的状态
3. 适用场景
    - 系统只需要一个实例对象
    - 调用类的单个实例只允许适用一个公共访问点